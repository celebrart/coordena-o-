<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controle de Provas - Psicologia</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #f3f3f3;
        color: #222;
    }

    header {
        background: #ff4da6;
        padding: 15px 20px;
        color: white;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    header h1 {
        margin: 0;
        font-size: 24px;
    }

    header h2 {
        margin: 0;
        font-size: 14px;
        opacity: 0.8;
    }

    .config-btn {
        background: black;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 6px;
        cursor: pointer;
    }

    .container {
        padding: 20px;
    }

    table {
        width: 100%;
        background: white;
        border-collapse: collapse;
        margin-top: 20px;
        border-radius: 10px;
        overflow: hidden;
    }

    th, td {
        padding: 12px;
        border-bottom: 1px solid #ddd;
        text-align: left;
    }

    th {
        background: #333;
        color: white;
    }

    .status-normal { color: green; font-weight: bold; }
    .status-proximo { color: orange; font-weight: bold; }
    .status-aplicada { color: blue; font-weight: bold; }
    .status-atrasada { color: red; font-weight: bold; }

    /* Popup */
    .popup-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.6);
        display: none;
        justify-content: center;
        align-items: center;
    }

    .popup {
        background: white;
        width: 90%;
        max-width: 400px;
        padding: 20px;
        border-radius: 10px;
    }

    .popup input {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .btn {
        padding: 10px 15px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        margin-top: 10px;
    }

    .btn-save { background: #ff4da6; color: white; }
    .btn-close { background: #333; color: white; }
</style>
</head>
<body>

<header>
    <div>
        <h1 id="titulo">Controle de Provas</h1>
        <h2 id="subtitulo">Psicologia</h2>
    </div>
    <button class="config-btn" onclick="abrirConfig()">⚙️ Configurações</button>
</header>

<div class="container">
    <table>
        <thead>
            <tr>
                <th>Disciplina</th>
                <th>Professor</th>
                <th>Data</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody id="tabela"></tbody>
    </table>
</div>

<!-- POPUP DE CONFIGURAÇÃO -->
<div class="popup-bg" id="popup">
    <div class="popup">
        <h3>Configurações</h3>
        <label>Título</label>
        <input type="text" id="cfgTitulo">

        <label>Subtítulo</label>
        <input type="text" id="cfgSubtitulo">

        <label>Cor Primária</label>
        <input type="color" id="cfgCor1">

        <label>Cor Secundária</label>
        <input type="color" id="cfgCor2">

        <button class="btn btn-save" onclick="salvarConfig()">Salvar</button>
        <button class="btn btn-close" onclick="fecharConfig()">Fechar</button>
    </div>
</div>

<script>
let provas = [
    {disciplina:"Psicologia Social", professor:"Stephane Juliana", data:"2025-11-18", status:"Aplicada"},
    {disciplina:"Psicofarmacologia", professor:"Renato Pennaforte", data:"2025-11-27", status:"Normal"},
    {disciplina:"TTP Behaviorismo", professor:"Saulo de Tarso", data:"2025-12-12", status:"Próximo"}
];

function carregarTabela() {
    let tbody = document.getElementById("tabela");
    tbody.innerHTML = "";

    provas.forEach(p => {
        let linha = `<tr>
            <td>${p.disciplina}</td>
            <td>${p.professor}</td>
            <td>${p.data}</td>
            <td class="status-${p.status.toLowerCase()}">${p.status}</td>
        </tr>`;
        tbody.innerHTML += linha;
    });
}
carregarTabela();

function abrirConfig() {
    document.getElementById("cfgTitulo").value = localStorage.getItem("titulo") || "Controle de Provas";
    document.getElementById("cfgSubtitulo").value = localStorage.getItem("subtitulo") || "Psicologia";
    document.getElementById("cfgCor1").value = localStorage.getItem("cor1") || "#ff4da6";
    document.getElementById("cfgCor2").value = localStorage.getItem("cor2") || "#000000";

    document.getElementById("popup").style.display = "flex";
}

function fecharConfig() {
    document.getElementById("popup").style.display = "none";
}

function salvarConfig() {
    localStorage.setItem("titulo", document.getElementById("cfgTitulo").value);
    localStorage.setItem("subtitulo", document.getElementById("cfgSubtitulo").value);
    localStorage.setItem("cor1", document.getElementById("cfgCor1").value);
    localStorage.setItem("cor2", document.getElementById("cfgCor2").value);

    aplicarConfig();
    fecharConfig();
}

function aplicarConfig() {
    document.getElementById("titulo").innerText = localStorage.getItem("titulo") || "Controle de Provas";
    document.getElementById("subtitulo").innerText = localStorage.getItem("subtitulo") || "Psicologia";

    let cor1 = localStorage.getItem("cor1") || "#ff4da6";
    let cor2 = localStorage.getItem("cor2") || "#000000";

    document.querySelector("header").style.background = cor1;
    document.querySelector(".config-btn").style.background = cor2;
}

aplicarConfig();
</script>

<!-- Aba Pastas e Bloco de Notas -->
<div class="container">
    <h2>Pastas</h2>
    <input type="file" id="uploadDoc" multiple>
    <button class="btn btn-save" onclick="salvarArquivos()">Salvar Arquivos</button>
    <ul id="listaArquivos"></ul>

    <h2>Bloco de Notas</h2>
    <textarea id="blocoNotas" style="width:100%;height:150px;"></textarea>
    <button class="btn btn-save" onclick="salvarBloco()">Salvar Anotações</button>
</div>

<script>
// Salvar arquivos
function salvarArquivos() {
    let arquivos = document.getElementById('uploadDoc').files;
    let lista = [];
    for (let a of arquivos) lista.push(a.name);
    localStorage.setItem('arquivos', JSON.stringify(lista));
    carregarArquivos();
}

function carregarArquivos() {
    let lista = JSON.parse(localStorage.getItem('arquivos') || '[]');
    let ul = document.getElementById('listaArquivos');
    ul.innerHTML = '';
    lista.forEach(a => {
        ul.innerHTML += `<li>${a}</li>`;
    });
}

// Bloco de notas
function salvarBloco() {
    localStorage.setItem('blocoNotas', document.getElementById('blocoNotas').value);
}

function carregarBloco() {
    document.getElementById('blocoNotas').value = localStorage.getItem('blocoNotas') || '';
}

carregarArquivos();
carregarBloco();
</script>
</body>
</html>
